@startuml
start
:User issues "navigate x,y" via CLI;
:CLI enqueues Command;
if ([Robot state == OFF]) then (yes)
  :Reject command -> "Power on first";
  stop
else (no)
  :Robot reads command;
  :Parse coordinates (x,y);
  if ([Valid coordinates]) then (yes)
    :Navigation.planPath(start, target);
    :Robot.state = MOVING;
    repeat
      :Navigation.nextStep();
    repeat while ([not at target])
    :Robot.state = IDLE;
    :Ack success to CLI;
    stop
  else (no)
    :Notify "invalid coordinates";
    stop
  endif
endif
@enduml